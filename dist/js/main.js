!function(n){function e(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t={};e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";function o(n){n&&n.classList.add("hide")}function a(n){n&&n.classList.remove("hide")}function i(n){var e=!0,t=!1,i=void 0;try{for(var r,l=f(".js_layout")[Symbol.iterator]();!(e=(r=l.next()).done);e=!0){o(r.value)}}catch(n){t=!0,i=n}finally{try{!e&&l.return&&l.return()}finally{if(t)throw i}}a(s(n)),a(document.body)}function r(n,e){firebase.auth().currentUser?console.log("already login"):firebase.auth().signInWithEmailAndPassword(n,e).catch(function(n){console.log(n),alert(n)})}function l(n,e){firebase.auth().currentUser?console.log("already login"):firebase.auth().createUserWithEmailAndPassword(n,e).catch(function(n){console.log(n),alert(n)})}function u(){firebase.auth().currentUser?firebase.auth().signOut().catch(function(n){alert(n),console.log(n)}):console.log("already SignOut")}function c(n){var e=!1,t=f(n),o=!0,a=!1,i=void 0;try{for(var r,l=t[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var u=r.value,c=!0,s=!1,d=void 0;try{for(var y,v=u.querySelectorAll("[valid]")[Symbol.iterator]();!(c=(y=v.next()).done);c=!0){temp=y.value;var g=new RegExp(temp.getAttribute("valid"));null==temp.value.match(g)?(temp.classList.add("valid_fail"),e||(e=!0)):temp.classList.remove("valid_fail")}}catch(n){s=!0,d=n}finally{try{!c&&v.return&&v.return()}finally{if(s)throw d}}}}catch(n){a=!0,i=n}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}return e}var s=function(n){return document.querySelector(n)},f=function(n){return document.querySelectorAll(n)};firebase.auth().onAuthStateChanged(function(n){if(n){for(var e=s(".data");e.hasChildNodes();)e.removeChild(e.firstChild);console.log("login");var t=firebase.database().ref("/"),o=s("#main_layout .data");t.on("child_added",function(n){console.log("dataAdd");var e=document.createElement("div");e.classList.add(n.key),e.innerHTML=n.val(),o.append(e)}),t.on("child_changed",function(n){console.log(n.key),o.querySelector("."+n.key).innerHTML=n.val()}),t.on("child_removed",function(n){s("."+n.key).remove()}),i("#main_layout")}else i("#signin_layout"),console.log("need login")}),s("#main_layout ._input_btn").onclick=function(n){var e=s("#main_layout ._input"),t=s("#main_layout ._input").value;if(""!=t.trim()){var o=firebase.database();o&&o.ref("/").push(t).then(function(n){e.value="",console.log("success",n)}).catch(function(n){console.log("error",n)})}},s("#sign_out ._signout").onclick=function(n){n.preventDefault(),u()},s("#signup_layout ._signup").onclick=function(n){(n.preventDefault(),c("#signup_layout"),0==f("#signup_layout .valid_fail").length)&&l(s("#signup_layout ._user_id").value,s("#signup_layout ._user_password").value)},s("#signin_layout ._signin").onclick=function(n){(n.preventDefault(),c("#signin_layout"),0==f("#signin_layout .valid_fail").length)&&r(s("#signin_layout ._user_id").value,s("#signin_layout ._user_password").value)},s("#signin_layout ._signup").onclick=function(n){n.preventDefault(),i("#signup_layout")}}]);